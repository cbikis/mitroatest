import{a as y,r as n,k as _,b as g,d as v,e as x,f as e,h,x as u,y as d,i as k,t as w,g as V,A as p}from"./app-C4nfOcqx.js";import{_ as j}from"./Popup-BAEILLfG.js";const M={class:"flex justify-center mt-12"},E={class:"flex flex-col justify-center items-center bg-[#c4dff6] rounded-xl p-3 text-xl mt-28 border-2 border-sky-400"},B=e("h1",{class:"p-2 mb-3"},[e("i",{class:"fa-solid fa-right-to-bracket",style:{"font-size":"5rem",color:"rgb(3 105 161)"}})],-1),I={class:"flex flex-col justify-center items-center gap-1"},U={class:"relative"},A=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("i",{class:"fa-solid fa-envelope",style:{color:"rgb(59 130 246)"}})],-1),C={class:"flex flex-col justify-center items-center gap-1"},D={class:"relative"},L=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("i",{class:"fa-solid fa-lock",style:{color:"rgb(59 130 246)"}})],-1),N=["placeholder"],P={type:"submit",class:"mx-auto block bg-[#77b6ea] p-2 rounded-lg text-1 self-center border-2 border-sky-500 mt-1 hover:bg-sky-500 transition-colors text-blue-950"},z={__name:"Login",setup(S){const{t:l}=y(),a=n(!1),c=n(null),f=_(()=>{switch(c.value){case"emptyInput":return l("fields_cannot_be_empty");case"invalidCredentials":return l("invalid_credentials");case"serverError":return l("server_error_try_again_later");default:return""}}),t=n({email:"",password:""}),m=g(),i=s=>{c.value=s,a.value=!0},b=async()=>{if(!t.value.email||!t.value.password){i("emptyInput");return}try{await p.get("/sanctum/csrf-cookie");const s=await p.post("/api/login",t.value);console.log("Login successful",s.data),m.push({name:"index"})}catch(s){console.error("An error occurred during login",s.response),s.response&&s.response.status===422?i("invalidCredentials"):i("serverError")}};return(s,o)=>(v(),x("div",M,[e("div",E,[B,e("form",{onSubmit:h(b,["prevent"]),class:"flex flex-col justify-center items-center gap-3"},[e("div",I,[e("div",U,[A,u(e("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=r=>t.value.email=r),placeholder:"Email",class:"rounded-full bg-gray-200 text-blue-950 text-center outline-sky-500 py-2 pl-9 pr-9 border border-sky-400 focus:ring-sky-500 focus:border-sky-500"},null,512),[[d,t.value.email]])])]),e("div",C,[e("div",D,[L,u(e("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=r=>t.value.password=r),placeholder:k(l)("password"),class:"rounded-full bg-gray-200 text-blue-950 text-center outline-sky-500 py-2 pl-9 pr-9 border border-sky-400 focus:border-sky-500"},null,8,N),[[d,t.value.password]])])]),e("button",P,w(s.$t("login")),1)],32)]),V(j,{message:f.value,isVisible:a.value,"onUpdate:isVisible":o[2]||(o[2]=r=>a.value=r)},null,8,["message","isVisible"])]))}};export{z as default};
